 # 增强的数组

## 1. 创建数组

ES6之前创建数组的方式：
* Array构造器
* 数组字面量

无法直接将 类数组对象（有数值类型索引和length属性） 转换为真正的数组。

ES6 新增了 `Array.of()` 、 `Array.from()` 方法创建数组。

### 1.1. Array.of() 方法

    let items = new Array( 2 );
    items.length; //=> 2
    items[ 0 ];   //=> undefined
    items[ 1 ];   //=> undefined

使用Array构造函数创建数组：
* 当传入参数是单个数值时，会创建指定长度的空数组
* 当传入参数是单个非数值时，该参数会成为目标数组的唯一项

`Array.of()` 就是为了解决这个问题的，传入的每一个参数，都会成为数组的项。

### 1.2. Array.from() 方法

**将类数组对象转换为数组**

ES6之前的做法：

    # 方式一：写了很多代码
    function makeArray( arrayLike ) {
        var result = [];
        for ( var i = 0, len = arrayLike.length; i < len; i++ ) {
            result.push( arrayLike[ i ] );
        }
        return result;
    }

    # 方式二：目的不清晰
    function makeArray( arrayLike ) {
        return Array.prototype.slice.call( arrayLike );
    }

ES6：

    function doSomething() {
        var args = Array.from( arguments );
        ...
    }

映射转换：

    # 进一步转换
    # 第二个参数为映射函数，处理类数组对象的每一个值
    function translate() {
        return Array.from( arguments, value => value + 1 );
    }
    translate( 1, 2, 3 ); //=> [ 2, 3, 4 ]

    # 改变映射函数内部 `this` 值
    let helper = {
        diff: 2,
        add( value ) {
            return value + this.diff;
        }
    }
    function translate() {
        return Array.from( arguments, helper.add, helper );
    }
    translate( 1, 2, 3 ); //=> [ 3, 4, 5 ]

**将可迭代对象转换为数组**

可将包含 `Symbol.iterator` 属性的对象转换为数组

    let numbers = {
        *[Symbol.iterator]() {
            yield 1;
            yield 2;
            yield 3;
        }
    }
    Array.from( numbers, value => value + 3 );
    //=> [4, 5, 6]

