 # 指令

>引入 Vue.js：`<script src="https://unpkg.com/vue@2.5.17/dist/vue.js"></script>`

## 1. 插值表达式

`{{ 表达式 }}` （mustache 语法）

## 2. v-clock

**作用**：

解决插值表达式闪烁的问题。

**示例**：

查看 [./code/02-cloak.html](./code/02-cloak.html)

```html
<style>
  [v-cloak] {
    display: none;
  }
</style>

<div id="app">
  <p v-cloak>{{ msg }}</p>
</div>
```

## 3. v-text

**作用**：

设置元素的文本内容（会转义），等价于 `elt.textContent = 表达式`。

**示例**：

查看 [./code/03-text.html](./code/03-text.html)

```html
<div id="app">
  <p>{{ msg }}</p>
  <p v-text="msg"></p>
</div>

<script>
  let vm = new Vue({
    el: '#app',
    data: {
      msg: 'hello Vue.js!'
    }
  });
</script>
```

## 4. v-html

**作用**：

设置元素标签体，等价于 `elt.innerHTML = 表达式` 。

**示例**：

查看：[./code/04-v-html.html](./code/04-v-html.html)

```html
<div id="app">
  <p v-html="html"></p>
</div>

<script>
  let vm = new Vue({
    el: '#app',
    data: {
      html: '<span>我是span</span>'
    }
  });
</script>
```

## 5. v-bind

**作用**：

`v-bind:属性名='表达式'` 或者 `:属性名='表达式'`

属性绑定。模型到视图的数据流。

**示例**：

查看 [./code/05-v-bind.html](./code/05-v-bind.html)

```html
<div id="app">
  <p v-bind:title="myTitle">哇哈哈</p>
</div>

<script>
  let vm = new Vue({
    el: '#app',
    data: {
      myTitle: '我是段落标签'
    }
  });
</script>
```

## 6. v-on

**作用**：

`v-on:事件名='表达式'` 或 `@事件名='表达式'`

事件绑定。

**示例**：

>`vm` 代理了 `methods` 和 `data` 的所有属性。

查看 [./code/06-v-on.html](./code/06-v-on.html)

```html
<div id="app">
  <button v-on:click='handleAlert()'>按钮</button>
</div>

<script>
  let vm = new Vue({
    el: '#app',
    data: {
      msg: '哇哈哈'
    },
    methods: {
      handleAlert: () => {
        return alert(this.msg);
      }
    }
  });
</script>
```

## 7. 事件修饰符

**文档**：

* [doc：v-on](https://cn.vuejs.org/v2/api/#v-on)
* [guide：事件处理](https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6)

**作用**：

* `.stop` 阻止冒泡
* `.prevent` 阻止默认行为
* `.capture` 添加事件监听器时使用事件捕获模式
* `.self` event.target 是当前元素自身时触发处理函数，不影响事件传播（冒泡、捕获）
* `.once` 只触发一次

**示例**：

```html
<!-- 阻止单击事件继续传播 -->
<a v-on:click.stop="doThis"></a>

<!-- 提交事件不再重载页面 -->
<form v-on:submit.prevent="onSubmit"></form>

<!-- 修饰符可以串联 -->
<a v-on:click.stop.prevent="doThat"></a>

<!-- 只有修饰符 -->
<form v-on:submit.prevent></form>

<!-- 添加事件监听器时使用事件捕获模式 -->
<!-- 即元素自身(div)触发的事件先在此处理，然后才交由内部元素(button)进行处理 -->
<div v-on:click.capture="doThis">
  <button v-on:click="doThat()">
</div>

<!-- 只当在 event.target 是当前元素自身时触发处理函数 -->
<!-- 即事件不是从内部元素触发的 -->
<div v-on:click.self="doThat">...</div>
```

## 8. v-model

**作用**：

实现表单元素和 Model 中数据的双向数据绑定。用于实时获取表单字段输入的值。

**示例**：

查看：[./code/07-v-model.html](./code/07-v-model.html)

```html
<div id="app">
  <input type="text" v-model="msg">
  <p>{{ msg }}</p>
</div>

<script>
  let vm = new Vue({
    el: '#app',
    data: {
      msg: '哇哈哈'
    }
  });
</script>
```