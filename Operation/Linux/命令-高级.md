# 命令-高级

## 1. `hostname`

操作服务器的主机名（读取/设置），主要是读取主机名，用此命令设置的主机名是临时的。

一般是装系统时自动生成的名称。

```shell
# 完整的主机名
➜  ~ hostname
iz8rrzrale48hez

# 当前主机名称中的 FQDN（全限定域名）
➜  ~ hostname -f
```

## 2. `id`

查看用于的基本信息（用户 ID，用户组 ID，附加组 ID）。

一个用户可以归属于多个附加组（groups）。

```shell
# 当前用户的信息
➜  ~ id
uid=0(root) gid=0(root) groups=0(root)

# 指定用户的信息
➜  ~ id root
```

查看用户信息(uid、gid)

```shell
➜  ~ cat /etc/passwd | grep 'root'
root:x:0:0:root:/root:/bin/zsh
```

查看用户组信息(groups)

```shell
➜  ~ cat /etc/group | grep 'root'
root:x:0:
```

## 3. `whoami`

获取当前用户的用户名。一般用于 shell 脚本，获取当前操作用户的用户名，方便记录日志。

```shell
➜  ~ whoami
root
```

## 4. `ps -ef`

查看服务器的进程信息。

选项

* `-e` 等价于 `-A`，列出全部的进程
* `-f` 显示全部的信息类别

```shell
➜  ~ ps -ef
UID        PID  PPID  C STIME TTY          TIME CMD
root         1     0  0 Oct03 ?        00:00:02 /usr/lib/systemd/systemd --system --deserialize 18
root      9661     1  0 Oct06 ?        00:02:14 mongod
root     10532 10530  0 07:44 pts/1    00:00:00 -zsh
root     11279 10532  0 12:09 pts/1    00:00:00 ps -ef
root      4711     1  0 Oct04 ?        00:00:00 nginx: master process nginx
nginx     4713  4711  0 Oct04 ?        00:00:00 nginx: worker process
```

* `UID`：执行该进程的用户的 ID
* `PID`：该进程的 ID
* `PPID`：该进程的父级进程 ID；如果 PPID 没有，则为僵尸进程（无用进程）
* `C`：CPU 占用的百分比
* `STIME`：该进程的开始时间
* `TTY`：终端设备，`?` 表示该进程不是由终端发起的
* `TIME`：执行的时间
* `CMD`：进程的名称或路径

查看某个进程的状态

```shell
➜  ~ ps -ef | grep 'nginx'
root      4711     1  0 Oct04 ?        00:00:00 nginx: master process nginx
nginx     4713  4711  0 Oct04 ?        00:00:00 nginx: worker process
```

## 5. top

## 6. du -sh

## 7. find

## 8. service

## 9. kill

## 10. shutdown