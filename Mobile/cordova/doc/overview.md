# 概览

## 1. 介绍

Apache Cordova 是一个开源的移动开发框架。它允许您使用标准的 Web 技术——HTML5、CSS3 和 JavaScript 进行跨平台开发。应用程序在针对每个平台的包装器内执行，通过标准的 API 来访问每个设备的能力，如传感器、数据、网络状态等。

使用 Apache Corddova，如果你是：

* 移动开发人员，并且希望跨多个平台扩展应用程序，而不必使用每个平台的语言和工具集重新实现它。
* 一个 web 开发人员，并且希望部署一个 web 应用程序，该应用程序被打包用于在各种应用程序商店门户中进行分发。
* 移动开发人员希望将原生应用程序组件与可以访问设备级 API 的 WebView（特殊浏览器窗口）混合，或者如果您希望在原生和 WebView 组件之间开发插件接口。

## 2. 架构

Cordova 应用程序有几个组件。下面的图表显示了 Cordova 应用程序架构的高级视图。

![Cordova 应用程序架构](https://cordova.apache.org/static/img/guide/cordovaapparchitecture.png)

### 2.1. WebView

启用 Cordova 的 WebView 可以为应用程序提供整个用户界面。在某些平台上，它还可以是一个大型混合应用程序中的组件，该组件将 WebView 与本地应用程序组件混合。

### 2.2. Web App

这是应用程序代码驻留的部分。应用程序本身被实现为网页，默认情况下是一个名为 index.html 的本地文件，该文件引用CSS、JavaScript、图像、媒体文件或其他资源，这些资源对于它运行是必需的。该应用程序在原生应用程序包装器中的 WebView 中执行，并将其分发到应用程序商店。

这个容器有一个非常关键的文件 —— config.xml 文件，该文件提供有关应用程序的信息，并指定影响其工作方式的参数，例如它是否响应方向转换。

### 2.3. Plugins

插件是 Cordova 生态系统的一个组成部分。它们为 Cordova 和本机组件提供了相互通信以及与标准设备 API 的绑定的接口。这使您可以从 JavaScript 调用本机代码。

Apache Cordova 项目维护一组插件，称为核心插件。这些核心插件为您的应用程序提供了访问设备功能，如电池、照相机、联系人等。

除了核心插件之外，还有一些第三方插件可以为所有平台上不一定提供的功能提供额外的绑定。 您可以使用插件搜索或 npm 搜索 Cordova 插件。 您还可以开发自己的插件，如插件开发指南中所述。 例如，可能需要插件才能在 Cordova 和自定义原生组件之间进行通信。

注意：创建 Cordova 项目时，它没有任何插件。 这是新的默认行为。 您需要的任何插件，甚至是核心插件，都必须明确添加。

Cordova 不提供任何 UI 组件或 MV* 框架。 Cordova 仅提供可以执行的运行时。 如果您希望使用 UI 组件或 MV* 框架，则需要选择它们并将它们包含在您的应用程序中。

### 2.4. Development Paths

Cordova 为您提供了两个基本工作流程来创建移动应用程序。 虽然您可以使用任一工作流来完成相同的任务，但它们都有各自的优势：

* **跨平台（CLI）工作流程**：如果您希望应用程序在尽可能多的不同移动操作系统上运行，而几乎不在特定移动平台上开发，则需要使用此工作流程。 此工作流程以 cordova CLI 为中心。 CLI 是一个高级工具，允许您同时为许多平台构建项目，从而抽象出低级 shell 脚本的大部分功能。 CLI 将一组公共 Web 资产复制到每个移动平台的子目录中，对每个移动平台进行必要的配置更改，运行构建脚本以生成原生应用程序的二进制文件。 CLI 还提供了一个通用界面，可以将插件应用到您的应用程序中。 要开始使用，请按照创建第一个应用指南中的步骤操作。 除非您需要以平台为中心的工作流，否则建议使用跨平台工作流。
* **以平台为中心的工作流程**：如果您希望专注于为单个平台构建应用程序并且需要能够对底层进行修改，请使用此工作流程。 您需要使用此方法，例如，如果您希望应用程序将自定义原生组件与基于 Web 的 Cordova 组件混合，如 [嵌入 WebView](https://cordova.apache.org/docs/en/8.x/guide/hybrid/webviews/index.html) 中所述。 根据经验，如果您需要通过 SDK 修改项目，请使用此工作流程。 此工作流依赖于为每个受支持的平台定制的一组低级 shell 脚本，以及允许您应用插件的单独 Plugman 实用程序。 虽然您可以使用此工作流来构建跨平台应用程序，但它通常更加困难，因为缺少更高级别的工具意味着每个平台都需要单独的构建周期和插件修改。

首次开始时，最简单的方法是使用跨平台工作流程来创建应用，如创建您的第一个应用指南中所述。 如果您需要SDK提供的更强控制，则可以选择切换到以平台为中心的工作流。

注意：从基于 CLI 的工作流切换到以平台特定的 SDK 和 shell 工具为中心的工作流后，您无法返回。 CLI 维护一组通用的跨平台源代码，在每个构建中，它用于编写特定于平台的源代码。 要保留对特定于平台的资产所做的任何修改，您需要切换到以平台为中心的 shell 工具，这些工具忽略跨平台源代码，而是依赖于特定于平台的源代码。

## 3. 安装 Cordova

Cordova 的安装将根据您选择的工作流程而有所不同：

* 跨平台工作流程：请参阅创建您的第一个应用指南。
* 以平台为中心的工作流

安装 Cordova 后，建议您查看将要开发的移动平台的“开发平台”部分。 还建议您查看“隐私指南”和“安全指南”。